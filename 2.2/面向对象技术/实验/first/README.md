# 第一次上机实验

## 1.文件读写_西游记

**问题：** 文件编码采用GB2312格式，在程序中读入会出现乱码和错误计数问题（每个汉字占双字节，会拆分成两个乱码）；因此查询了**https://www.cnblogs.com/goul/p/10274171.html**得到了方案进行解决，特此致谢

**思路：** 由于上一问题的存在，不得不将两问割裂进行操作；主要讨论第二部分的思路：使用string标准库内的find函数进行子串的比较并计数即可。但为了方便函数实现，将原文档编码格式转化为了utf-8进行实现

## 2.类的操作_圆的关系

**思路：** 圆的关系判断较为简单，不做赘述；

在实现Exit函数能够使得图形在程序结束时正常输出的问题，引入两个新的成员变量：

- 一是函数指针，指向对象在析构时的操作函数
- 二是操作函数的参数。

Exit函数负责传递参数给成员变量，图形输出由析构函数实现。

## 3.类的定义_时间

**思路:** 该类包含

- 四个成员变量：

  - 年year
  - 月month
  - 日day
  - 闰年否Leap
- 成员函数：

  - 初始化函数：三个参数年月日，采用设置默认值的方式；闰年否变量采用全局函数isLeap进行判断
  - Reset函数：该函数用于将某个CDate对象的成员变量进行重新设定
  - Show函数：该函数用于显示某个CDate对象的日期
  - Span函数：用于计算两个日期之间间隔天数；先判断谁先谁后（保障结果为正），之后两者统一计算并重置到该年1月1日，最后进行年份计算

## 4.类的操作_Stash函数补全

**思路：**较简单，读者可直接阅读代码了解思路；
